<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="../../bower_components/angular/angular.min.js"></script>
</head>
<body ng-app="app" ng-controller="TestController">
<div ng-custom-directive ng-model="liguangyi"></div>
<script type="text/javascript">
	var app = angular.module('app', []);
	
	app.controller('TestController', function ($scope) {
		$scope.Child = 'Parent';
		$scope.ngModel = 'This is from Parent scope ngModel';
		$scope.name = 'James';
	});

	app.directive('ngCustomDirective', function () {
		console.log("This is a custom directive");
		return {
			restrict: 'A',
			// require: '^ngModel',
			scope: {
				// ngModel: '='
				ngModel: '@',
				name: '@'
			},
    		template: '<div class="sparkline">{{ngModel}}{{name}}</div>',
			compile: function () {
				return function linkingFunction(scope, element, attrs, controller) {
					console.log("This is linked function");
					console.log("scope===>", scope);
					console.log("element===>", element);
					console.log("attrs===>", attrs);
					console.log("controller===>", controller);
				}
			}
		}
	});	
</script>
</body>
</html>